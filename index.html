<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login | Seguridad 24-7</title>
    <link rel="icon" type="image/png" href="img/logo24-7.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.1/dist/sweetalert2.min.js"></script>
    <!-- Añadir SweetAlert2 -->
    <link
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.1/dist/sweetalert2.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background: linear-gradient(135deg, #1a374d, #406882);
        color: #ffffff;
        font-family: "Poppins", sans-serif;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
      }

      /* Logo de la empresa como marca de agua */
      .background-logo {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        opacity: 0.1;
        width: 40%; /* Ajusta el tamaño del logo */
        z-index: -1;
      }

      .login-box {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 2rem;
        backdrop-filter: blur(10px);
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        width: 100%;
        max-width: 400px;
        color: #fff;
      }

      .login-box h2 {
        margin-bottom: 1.5rem;
        text-align: center;
      }

      .form-control {
        background-color: rgba(255, 255, 255, 0.1);
        border: none;
        color: #fff;
      }

      .form-control::placeholder {
        color: #ccc;
      }

      .btn-primary {
        width: 100%;
        background-color: #d4af37;
        border: none;
        color: #1a374d;
        transition: 0.3s;
        font-weight: bold;
      }

      .btn-primary:hover {
        background-color: #c9a227;
      }

      footer {
        background: #406882;
        text-align: center;
        padding: 15px;
        color: #ffffff;
        width: 100%;
        position: relative;
        bottom: 0;
      }

      /* Estilos para los botones */
      .btn-modern {
        border-radius: 8px;
        padding: 8px 15px;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      .btn-primary {
        background: linear-gradient(135deg, #1cb698, #159a81);
        border: none;
        color: white;
      }

      .btn-primary:hover {
        background: linear-gradient(135deg, #159a81, #1cb698);
      }
    </style>
  </head>
  <body>
    <!-- Logo de la empresa como marca de agua -->
    <img
      src="img/logo24-7.png"
      alt="Logo de la Empresa"
      class="background-logo"
    />

    <div class="login-box">
      <h2>Iniciar Sesión</h2>
      <form id="loginForm">
        <div class="mb-3">
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="Correo electrónico"
            required
          />
        </div>
        <div class="mb-3">
          <input
            type="password"
            class="form-control"
            id="password"
            placeholder="Contraseña"
            required
          />
        </div>
        <button type="submit" class="btn btn-primary">Ingresar</button>
      </form>
    </div>

    <!-- Firebase compat CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Configura tu Firebase aquí (reemplaza con tus datos reales)
      const firebaseConfig = {
        apiKey: "AIzaSyAeSR7s-PbwDWyfwrzKC5C-EHEvKbVweVc",
        authDomain: "delecuador-61762.firebaseapp.com",
        databaseURL: "https://delecuador-61762-default-rtdb.firebaseio.com",
        projectId: "delecuador-61762",
        storageBucket: "delecuador-61762.appspot.com",
        messagingSenderId: "1091381471096",
        appId: "1:1091381471096:web:aa7475056d65e7b2f14a8d",
      };

      // Inicializa Firebase
      firebase.initializeApp(firebaseConfig);

      const auth = firebase.auth();

      // Evento del formulario de login
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const email = document.getElementById("email").value;
          const password = document.getElementById("password").value;

          auth
            .signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
              // Usar SweetAlert2 para mostrar un mensaje de éxito
              Swal.fire({
                title: "Bienvenido",
                text: "Has iniciado sesión con éxito.",
                imageUrl: "img/logo24-7-n.png", // Cambia esto por tu ícono
                imageWidth: 100,
                imageHeight: 100,
                confirmButtonColor: "#1cb698",
              }).then(() => {
                window.location.href = "registro_claves.html"; // Redirigir a la página de registro
              });
            })
            .catch((error) => {
              // Usar SweetAlert2 para mostrar un mensaje de error
              Swal.fire({
                icon: "error",
                title: "Error",
                text: "Credenciales incorrectas",
                confirmButtonColor: "#e74c3c",
              });
            });
        });
    </script>
  </body>
</html>
